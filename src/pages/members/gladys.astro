---
import BaseLayout from "../../layouts/BaseLayout.astro";
import NavBar from "../../components/NavBar.astro";
import Section from "../../components/Section.astro";
import Card from "../../components/Card.astro";

import { getCollection } from "astro:content";

const clips = (await getCollection("clips")).filter(x => x.data.member === "gladys" || x.data.member === "both").slice(0, 6);
const fanworks = (await getCollection("fanworks")).filter(x => x.data.member === "gladys" || x.data.member === "both").slice(0, 6);
---
<BaseLayout title="Gladysï¼ˆæ€è¯ºï¼‰ï½œæˆå‘˜é¡µ" description="å…³é”®è¯ã€é£æ ¼ã€æ¨èè§‚çœ‹æ¸…å•ã€å¸¸ç”¨é“¾æ¥">
  <NavBar slot="nav" />

  <h1 class="h1">Gladysï¼ˆæ€è¯ºï¼‰ğŸŒ™</h1>
  <p class="p">åŒæ ·æ˜¯â€œå…³é”®è¯ + æ¨èæ¸…å•â€çš„ç»“æ„ï¼Œä¿è¯å¥½ç»´æŠ¤ã€å¥½æ‰©å±•ã€‚</p>

  <Section title="å¸¸ç”¨é“¾æ¥">
    <div class="grid cols-2">
      <Card href="https://space.bilibili.com/3537115310721781" title="Bç«™ä¸»é¡µ" desc="å…³æ³¨ / æŠ•ç¨¿ / åŠ¨æ€å…¥å£" icon="ğŸ”—" />
      <Card href="/schedule" title="å»çœ‹æ’ç­" desc="æ‰¾åˆ°ä¸‹ä¸€åœºç›´æ’­" icon="ğŸ—“ï¸" />
    </div>
  </Section>

  <Section title="äººè®¾/é£æ ¼å…³é”®è¯ï¼ˆå ä½ï¼‰">
    <ul class="ul">
      <li>å…³é”®è¯ 1ï¼šâ€¦â€¦</li>
      <li>å…³é”®è¯ 2ï¼šâ€¦â€¦</li>
      <li>å…³é”®è¯ 3ï¼šâ€¦â€¦</li>
    </ul>
  </Section>

  <Section title="æ¨èå†…å®¹ï¼ˆä»ç²¾é€‰åº“èšåˆï¼‰">
    <div class="grid cols-3">
      {[...fanworks, ...clips].slice(0, 6).map((r) => (
        <a class="rec" href={r.data.url} target="_blank" rel="noreferrer">
          <div class="t">{r.data.title}</div>
          <div class="d">{r.data.reason ?? ""}</div>
        </a>
      ))}
    </div>
  </Section>

  <style lang="scss">
  @use "../../styles/mixins" as m;
  .ul{ margin: 0; padding-left: 18px; color: rgba(255,255,255,.78); }
  .ul li{ margin: 6px 0; }

  .rec{
    @include m.glass;
    @include m.hover-float;
    border-radius: var(--r-lg);
    padding: 14px 14px;
    display: block;
  }
  .t{ font-weight: 700; margin-bottom: 6px; }
  .d{ color: rgba(255,255,255,.65); font-size: 13px; }
  </style>
</BaseLayout>
